/**
 * @appular docs - displays documentation from json generated by grunt-appular-docs
 */
define([
    'jquery',
    'underscore',
    'backbone',
    './views/nav',
    './views/docs',
    'json!./json/docs.json',
    'text!./templates/module.html'
], function ($, _, Backbone, Nav, Docs, DocsJson, template) {
    var View = Backbone.Module.extend({
            events: {},
            initialize: function () {},
            render: function () {
                this.$el.html(_.template(template));
                
                this.views.nav = this.initView(Nav, {
                    el: '#module-docs-nav',
                    docs: DocsJson
                }).render();

                this.views.docs = this.initView(Docs, {
                    el: '#module-docs-docs',
                    docs: DocsJson
                }).render();

                return this;
            }
        });

    return View;
});